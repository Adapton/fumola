use std::str::FromStr;
//use std::collections::HashMap;
use crate::ast::{Id, Exp, Exp_, Literal};

grammar;

pub Exp_: Exp_ = {
    Exp => Box::new(<>)
};

pub Exp: Exp = {
    "return" <e:Exp_> => Exp::Return(e),
    Int32 => Exp::Literal(Literal::Int32(<>)),
};

pub Int32: i32 = {
    r"[0-9]+" => i32::from_str(<>).unwrap()
};

pub Id: Id = {
    r"[a-zA-Z][a-zA-Z_0-9]*" => String::from_str(<>).unwrap()
};

